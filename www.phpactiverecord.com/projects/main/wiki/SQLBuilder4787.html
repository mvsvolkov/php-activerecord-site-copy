<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<!-- Mirrored from www.phpactiverecord.com/projects/main/wiki/SQLBuilder?format=html&version=4 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 19 May 2017 20:19:07 GMT -->
<head>
<title>SQLBuilder</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<style>
body { font:80% Verdana,Tahoma,Arial,sans-serif; }
h1, h2, h3, h4 {  font-family: "Trebuchet MS",Georgia,"Times New Roman",serif; }
ul.toc { padding: 4px; margin-left: 0; }
ul.toc li { list-style-type:none; }
ul.toc li.heading2 { margin-left: 1em; }
ul.toc li.heading3 { margin-left: 2em; }
a.wiki-anchor { display: none; margin-left: 6px; text-decoration: none; }
a.wiki-anchor:hover { color: #aaa !important; text-decoration: none; }
h1:hover a.wiki-anchor, h2:hover a.wiki-anchor, h3:hover a.wiki-anchor { display: inline; color: #ddd; }
</style>
</head>
<body>
<h2 id="SQLBuilder">SQLBuilder<a href="#SQLBuilder" class="wiki-anchor">&para;</a></h2>


	<p>This guide will show you how to use the php-activerecord SQL builder.</p>


	<p>The first steps are to get the database connection and setup the SQL builder.</p>


<pre class="code"><code class="php syntaxhl"><span class="CodeRay"><span class="no">1</span> <span class="lv">$conn</span> = <span class="co">ActiveRecord</span>\<span class="co">ConnectionManager</span>::get_connection(<span class="s"><span class="dl">&quot;</span><span class="k">development</span><span class="dl">&quot;</span></span>);                                                                                                                         
<span class="no">2</span> <span class="lv">$builder</span> = <span class="r">new</span> <span class="co">ActiveRecord</span>\<span class="co">SQLBuilder</span>(<span class="lv">$conn</span>, <span class="s"><span class="dl">&quot;</span><span class="k">authors</span><span class="dl">&quot;</span></span>); 
</span></code></pre>

	<h4 id="select">SELECT queries<br />We are now ready to generate a simple SELECT query:</h4>


<pre class="code"><code class="php syntaxhl"><span class="CodeRay"><span class="no">1</span> <span class="lv">$builder</span>-&gt;where(<span class="s"><span class="dl">&quot;</span><span class="k">name = ?</span><span class="dl">&quot;</span></span>, <span class="s"><span class="dl">&quot;</span><span class="k">Hemingway</span><span class="dl">&quot;</span></span>);
<span class="no">2</span> <span class="pd">echo</span> <span class="lv">$builder</span>; <span class="c">/* =&gt; SELECT * FROM authors WHERE name = ? */</span>
<span class="no">3</span> <span class="pd">print_r</span>(<span class="lv">$builder</span>-&gt;get_where_values()); <span class="c">/* =&gt; array(&quot;Hemingway&quot;) */</span>
</span></code></pre>

	<p>You can also pass a hash to the where() method:</p>


<pre class="code"><code class="php syntaxhl"><span class="CodeRay"><span class="no">1</span> <span class="lv">$builder</span> = <span class="r">new</span> <span class="co">ActiveRecord</span>\<span class="co">SQLBuilder</span>(<span class="lv">$conn</span>, <span class="s"><span class="dl">&quot;</span><span class="k">authors</span><span class="dl">&quot;</span></span>);                                                                                                            
<span class="no">2</span> <span class="lv">$builder</span>-&gt;where(<span class="pd">array</span>(<span class="s"><span class="dl">&quot;</span><span class="k">name</span><span class="dl">&quot;</span></span> =&gt; <span class="s"><span class="dl">&quot;</span><span class="k">Hemingway</span><span class="dl">&quot;</span></span>,                                                                                                                         
<span class="no">3</span>                       <span class="s"><span class="dl">&quot;</span><span class="k">country</span><span class="dl">&quot;</span></span> =&gt; <span class="s"><span class="dl">&quot;</span><span class="k">USA</span><span class="dl">&quot;</span></span>));
<span class="no">4</span> <span class="pd">echo</span> <span class="lv">$builder</span>; <span class="c">/* =&gt; SELECT * FROM authors WHERE `name`=? AND `country`=? */</span>
<span class="no">5</span> <span class="pd">print_r</span>(<span class="lv">$builder</span>-&gt;get_where_values()); <span class="c">/* =&gt; array('Hemingway', 'USA'); */</span>
<span class="no">6</span> 
</span></code></pre>
</body>

<!-- Mirrored from www.phpactiverecord.com/projects/main/wiki/SQLBuilder?format=html&version=4 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 19 May 2017 20:19:07 GMT -->
</html>
